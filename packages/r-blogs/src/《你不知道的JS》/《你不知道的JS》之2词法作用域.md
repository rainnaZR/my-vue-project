《你不知道的JS》上卷 第一部分 作用域和闭包

# 第二章 词法作用域

作用域有两种工作模型：词法作用域和动态作用域。

## 1. 词法阶段

词法作用域是在写代码时将变量和块作用域写在哪里来决定的。无论函数在哪里被调用，无论函数如何被调用，它的词法作用域都由函数被声明时所处的位置决定。

## 2. 欺骗词法

如果想动态修改词法作用域，有两种机制：eval, with。欺骗词法作用域会导致性能下降。

**eval**：JS中的eval可以接收一个字符串作为参数。用来执行动态创建的代码。

**with**

eval和with会在运行时创建新的作用域，副作用是引擎无法在编译时对作用域进行查找优化。

## 3. 小结

词法作用域意味着作用域是由书写代码时函数声明的位置来决定的。在代码编译的第一阶段词法分析时就基本知道全部标识符是如何声明的。作用域包含了标识符（变量，函数）的定义。





