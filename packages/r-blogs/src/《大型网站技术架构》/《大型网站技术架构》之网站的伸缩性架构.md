# 《大型网站技术架构》之永无止境：网站的伸缩性架构

# 第六章：永无止境：网站的伸缩性架构

## 1. 网站架构的伸缩性设计

活动期间向服务器集群中添加服务器满足用户访问，活动结束后将这些服务器下线节约成本。

### 1.1 不同功能进行物理分离实现伸缩

不同服务器部署不同的服务，提供不同的功能。

### 1.2 单一功能通过集群规模实现伸缩

集群内的多台服务器部署相同的服务，提供相同的功能。

## 2. 应用服务器集群的伸缩性设计

### 2.1 HTTP重定向负载均衡

使用HTTP302响应码重定向。

### 2.2 DNS域名解析负载均衡

### 2.3 反向代理负载均衡

### 2.4 IP负载均衡

用户请求数据包到达负载均衡服务器后，负载均衡服务器在操作系统内核进程获取网络数据包，根据负载均衡算法计算得到一台真实的WEB服务器地址，不需要同用户进程处理。

### 2.5 数据链路层负载均衡

指在通信协议的数据链路层修改MAC地址进行负载均衡。

### 2.6 负载均衡算法

- 轮询
- 加权轮询
- 随机
- 最少连接
- 源地址散列

## 3. 数据存储服务器集群的伸缩性设计

### 3.1 关系数据库集群的伸缩性设计

多台服务器部署MySQL实例，但是它们的角色有主从之分，数据库写操作都在主服务器上，由主服务器将数据同步到集群中的其他从服务器，数据读操作及数据分析等离线操作在从服务器上进行。

### 3.2 noSQL数据库的伸缩性设计




