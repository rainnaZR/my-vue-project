# 《大型网站技术架构》之瞬时响应：网站的高性能架构


# 第四章：瞬时响应：网站的高性能架构

## 1.  网站性能测试

主要的优化手段有：使用缓存加速数据读取，使用集群提高吞吐能力，使用异步消息加快请求响应和削峰，使用代码优化程序性能。

### 1.1 性能测试指标

性能测试指标主要有：响应时间，并发数（系统能够同时处理请求的数目），吞吐量（单位时间内系统处理的请求数量），性能计数器等（包括内存使用，cpu使用，磁盘与网络i/o）。

### 1.2 性能测试方法

性能测试分为：性能测试，负载测试，压力测试，稳定性测试等。

### 1.3 性能分析策略

检查请求处理的各个环节的日志，分析哪个环节的响应时间不合理，超过预期，然后检查监控数据，分析影响性能的主要因素是：内存，磁盘，网络，cpu还是代码问题，或是架构不合理，系统资源不足。

## 2. web前端性能优化

减少http请求数，使用缓存，启用压缩，减少cookie传输，使用cdn,

反向代理：传统代理位于浏览器一端，代理浏览器将http请求发送到服务端；反向代理则是位于网站机房一侧，代理服务器负责接受http请求。

## 3. 应用服务器的性能优化

主要优化手段有：缓存，集群，异步等。通过分布式缓存集群，将缓存分布在多台服务器上可在一定程度上改善缓存的可用性。使用多线程编写代码，将对象设计成无状态对象，使用局部对象，并发访问资源时使用锁。使用单例和对象池。应用程序的数据库链接使用连接池的方式。

## 4. 存储性能优化