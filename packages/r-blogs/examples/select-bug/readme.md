## 背景

在开发表单模块的时候,出现了一个现象,点击 select 下拉框时,下拉选项弹窗弹出了两次。


## 原因

代码测试了下,select 下拉选项弹出的触发条件为(以下任意一种):

- 下拉框点击时。
- 手动修改下拉框 select 的 value 值。

因为业务需要,代码中确实对 select 的父元素添加了 click 事件。且 click 事件中对 select 的 value 值做了一次更新。因为同时满足了上面这两个条件,所以 select 下拉框弹出了两次。此时 select 下拉框事件的触发顺序为先触发 click 事件,然后修改其 value 值,如果值有变化,则触发其 change 事件。

如果想要避免弹窗两次,则尽量避免不要同时满足上述两个条件。




